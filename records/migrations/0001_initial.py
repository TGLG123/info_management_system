# Generated by Django 3.2.4 on 2025-01-16 03:38

from django.conf import settings
import django.contrib.auth.models
import django.contrib.auth.validators
from django.db import migrations, models
import django.db.models.deletion
import django.utils.timezone
import simple_history.models
import uuid


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('auth', '0012_alter_user_first_name_max_length'),
    ]

    operations = [
        migrations.CreateModel(
            name='MySQLBinLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('log_name', models.CharField(help_text='日志文件名', max_length=255)),
                ('position', models.BigIntegerField(help_text='日志位置')),
                ('event_time', models.DateTimeField(help_text='事件时间')),
                ('event_type', models.CharField(help_text='事件类型，例如 WRITE_ROWS', max_length=50)),
                ('table_name', models.CharField(help_text='目标表名', max_length=255)),
                ('database_name', models.CharField(help_text='数据库名', max_length=255)),
                ('data', models.TextField(help_text='事件具体数据')),
            ],
            options={
                'db_table': 'mysql.binlog',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='MySQLGeneralLog',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('event_time', models.DateTimeField(help_text='事件时间')),
                ('user_host', models.CharField(help_text='用户和主机信息', max_length=255)),
                ('thread_id', models.IntegerField(help_text='线程ID')),
                ('server_id', models.IntegerField(help_text='服务器ID')),
                ('command_type', models.CharField(help_text='命令类型，例如 QUERY、CONNECT', max_length=64)),
                ('argument', models.TextField(help_text='SQL命令或操作内容')),
            ],
            options={
                'db_table': 'mysql.general_log',
                'managed': False,
            },
        ),
        migrations.CreateModel(
            name='User',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('password', models.CharField(max_length=128, verbose_name='password')),
                ('last_login', models.DateTimeField(blank=True, null=True, verbose_name='last login')),
                ('is_superuser', models.BooleanField(default=False, help_text='Designates that this user has all permissions without explicitly assigning them.', verbose_name='superuser status')),
                ('username', models.CharField(error_messages={'unique': 'A user with that username already exists.'}, help_text='Required. 150 characters or fewer. Letters, digits and @/./+/-/_ only.', max_length=150, unique=True, validators=[django.contrib.auth.validators.UnicodeUsernameValidator()], verbose_name='username')),
                ('first_name', models.CharField(blank=True, max_length=150, verbose_name='first name')),
                ('last_name', models.CharField(blank=True, max_length=150, verbose_name='last name')),
                ('email', models.EmailField(blank=True, max_length=254, verbose_name='email address')),
                ('is_staff', models.BooleanField(default=False, help_text='Designates whether the user can log into this admin site.', verbose_name='staff status')),
                ('is_active', models.BooleanField(default=True, help_text='Designates whether this user should be treated as active. Unselect this instead of deleting accounts.', verbose_name='active')),
                ('date_joined', models.DateTimeField(default=django.utils.timezone.now, verbose_name='date joined')),
                ('role', models.CharField(choices=[('admin', 'Admin'), ('user', 'User'), ('auditor', 'Auditor')], default='user', help_text='用户角色：admin 为管理员，user 为普通用户，auditor 为审计员', max_length=10)),
                ('registration_date', models.DateTimeField(auto_now_add=True, help_text='用户注册时间')),
                ('groups', models.ManyToManyField(blank=True, help_text='The groups this user belongs to. A user will get all permissions granted to each of their groups.', related_name='user_set', related_query_name='user', to='auth.Group', verbose_name='groups')),
                ('user_permissions', models.ManyToManyField(blank=True, help_text='Specific permissions for this user.', related_name='user_set', related_query_name='user', to='auth.Permission', verbose_name='user permissions')),
            ],
            options={
                'verbose_name': 'user',
                'verbose_name_plural': 'users',
                'abstract': False,
            },
            managers=[
                ('objects', django.contrib.auth.models.UserManager()),
            ],
        ),
        migrations.CreateModel(
            name='ExcavationDiagnosisBackup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('scale', models.FloatField(help_text='比例尺')),
                ('mileage', models.FloatField(help_text='里程')),
                ('design_section', models.FloatField(help_text='设计断面')),
                ('line_x', models.FloatField(help_text='线路X坐标')),
                ('line_y', models.FloatField(help_text='线路Y坐标')),
                ('measured_section', models.FloatField(help_text='实测断面面积')),
                ('reference_section', models.FloatField(help_text='参考断面面积')),
                ('line_height', models.FloatField(help_text='线路高程')),
                ('over_excavation_area', models.FloatField(help_text='超挖面积')),
                ('under_excavation_area', models.FloatField(help_text='欠挖面积')),
                ('max_over_excavation', models.FloatField(help_text='最大超挖')),
                ('max_under_excavation', models.FloatField(help_text='最大欠挖')),
                ('average_over_excavation', models.FloatField(help_text='平均超挖')),
                ('average_under_excavation', models.FloatField(help_text='平均欠挖')),
                ('diagnosis_result', models.CharField(choices=[('within_limits', '超欠挖合格'), ('exceeds_limits', '超欠挖超标')], default='within_limits', help_text='诊断结果', max_length=20)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='操作理由', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='审批理由', null=True)),
                ('approved_by', models.CharField(blank=True, help_text='审批管理员', max_length=100, null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='审批时间', null=True)),
                ('created_at', models.DateTimeField(help_text='创建时间')),
                ('updated_at', models.DateTimeField(help_text='更新时间')),
            ],
        ),
        migrations.CreateModel(
            name='GeologicalSketchRecordBackup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('distance', models.FloatField(help_text='里程')),
                ('design_section', models.FloatField(help_text='设计断面')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('excavation_width', models.FloatField(help_text='开挖宽度')),
                ('excavation_height', models.FloatField(help_text='开挖高度')),
                ('excavation_area', models.FloatField(help_text='开挖面积')),
                ('excavation_method', models.CharField(help_text='开挖方式', max_length=200)),
                ('face_condition', models.CharField(help_text='掌子面状态', max_length=100)),
                ('excavation_condition', models.CharField(help_text='毛开挖情况', max_length=100)),
                ('rock_strength', models.CharField(help_text='岩石强度', max_length=50)),
                ('weathering_degree', models.CharField(help_text='风化程度', max_length=50)),
                ('crack_width', models.CharField(help_text='裂缝宽度', max_length=50)),
                ('crack_shape', models.CharField(help_text='裂缝形态', max_length=50)),
                ('water_condition', models.CharField(help_text='渗水状态', max_length=100)),
                ('rockburst_tendency', models.CharField(help_text='岩爆发育程度', max_length=50)),
                ('rock_grade', models.CharField(help_text='岩层级别', max_length=10)),
                ('karst_development', models.CharField(blank=True, help_text='岩溶发育程度', max_length=50, null=True)),
                ('water_status', models.CharField(blank=True, help_text='消水状态', max_length=100, null=True)),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='操作理由', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='审批理由', null=True)),
                ('approved_by', models.CharField(blank=True, help_text='审批管理员', max_length=100, null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='审批时间', null=True)),
                ('created_at', models.DateTimeField(help_text='创建时间')),
                ('updated_at', models.DateTimeField(help_text='更新时间')),
            ],
        ),
        migrations.CreateModel(
            name='OverUnderExcavationCalculationBackup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('line_name', models.CharField(help_text='线路名称', max_length=200)),
                ('north_direction_angle', models.FloatField(help_text='北方向角')),
                ('radius', models.FloatField(help_text='半径')),
                ('length', models.FloatField(help_text='长度')),
                ('east_coordinate', models.FloatField(help_text='东坐标')),
                ('north_coordinate', models.FloatField(help_text='北坐标')),
                ('start_offset', models.FloatField(help_text='起点偏移')),
                ('height', models.FloatField(help_text='高度')),
                ('radius_section', models.FloatField(help_text='横截面半径')),
                ('angle_increment', models.FloatField(help_text='角度增量')),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='操作理由', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='审批理由', null=True)),
                ('approved_by', models.CharField(blank=True, help_text='审批管理员', max_length=100, null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='审批时间', null=True)),
                ('created_at', models.DateTimeField(help_text='创建时间')),
                ('updated_at', models.DateTimeField(help_text='更新时间')),
            ],
        ),
        migrations.CreateModel(
            name='TunnelContourInfoBackup',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('cr', models.FloatField(help_text='调整指数范围的常数 Cr')),
                ('w1', models.FloatField(help_text='权重值 w1')),
                ('w2', models.FloatField(help_text='权重值 w2')),
                ('w3', models.FloatField(help_text='权重值 w3')),
                ('od', models.FloatField(help_text='超挖深度 Od')),
                ('rcl', models.FloatField(help_text='轮廓粗糙度 RCL')),
                ('vo', models.FloatField(help_text='纵向超挖变化 Vo')),
                ('c1', models.FloatField(help_text='修正因子 c1')),
                ('c2', models.FloatField(help_text='修正因子 c2')),
                ('c3', models.FloatField(help_text='修正因子 c3')),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='操作理由', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='审批理由', null=True)),
                ('approved_by', models.CharField(blank=True, help_text='审批管理员', max_length=100, null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='审批时间', null=True)),
                ('created_at', models.DateTimeField(help_text='创建时间')),
                ('updated_at', models.DateTimeField(help_text='更新时间')),
            ],
        ),
        migrations.CreateModel(
            name='TunnelContourInfo',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('cr', models.FloatField(help_text='调整指数范围的常数 Cr')),
                ('w1', models.FloatField(help_text='权重值 w1')),
                ('w2', models.FloatField(help_text='权重值 w2')),
                ('w3', models.FloatField(help_text='权重值 w3')),
                ('od', models.FloatField(help_text='超挖深度 Od')),
                ('rcl', models.FloatField(help_text='轮廓粗糙度 RCL')),
                ('vo', models.FloatField(help_text='纵向超挖变化 Vo')),
                ('c1', models.FloatField(help_text='修正因子 c1')),
                ('c2', models.FloatField(help_text='修正因子 c2')),
                ('c3', models.FloatField(help_text='修正因子 c3')),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='用户发起操作时填写的理由（上传、修改或删除）', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='管理员审批时填写的理由', null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='记录被审批的时间', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='记录的创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='记录的最后更新时间')),
                ('approved_by', models.ForeignKey(blank=True, help_text='记录审批的管理员', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_tunnel_contour_records', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, help_text='记录创建者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_tunnel_contour_records', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, help_text='记录删除者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deleted_tunnel_contour_records', to=settings.AUTH_USER_MODEL)),
                ('modified_by', models.ForeignKey(blank=True, help_text='记录修改者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='modified_tunnel_contour_records', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='OverUnderExcavationCalculation',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('line_name', models.CharField(help_text='线路名称', max_length=200)),
                ('north_direction_angle', models.FloatField(help_text='北方向角')),
                ('radius', models.FloatField(help_text='半径')),
                ('length', models.FloatField(help_text='长度')),
                ('east_coordinate', models.FloatField(help_text='东坐标')),
                ('north_coordinate', models.FloatField(help_text='北坐标')),
                ('start_offset', models.FloatField(help_text='起点偏移')),
                ('height', models.FloatField(help_text='高度')),
                ('radius_section', models.FloatField(help_text='横截面半径')),
                ('angle_increment', models.FloatField(help_text='角度增量')),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='用户发起操作时填写的理由（上传、修改或删除）', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='管理员审批时填写的理由', null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='记录被审批的时间', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='记录的创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='记录的最后更新时间')),
                ('approved_by', models.ForeignKey(blank=True, help_text='记录审批的管理员', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_over_under_records', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, help_text='记录创建者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_over_under_records', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, help_text='记录删除者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deleted_over_under_records', to=settings.AUTH_USER_MODEL)),
                ('modified_by', models.ForeignKey(blank=True, help_text='记录修改者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='modified_over_under_records', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='HistoricalTunnelContourInfo',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('cr', models.FloatField(help_text='调整指数范围的常数 Cr')),
                ('w1', models.FloatField(help_text='权重值 w1')),
                ('w2', models.FloatField(help_text='权重值 w2')),
                ('w3', models.FloatField(help_text='权重值 w3')),
                ('od', models.FloatField(help_text='超挖深度 Od')),
                ('rcl', models.FloatField(help_text='轮廓粗糙度 RCL')),
                ('vo', models.FloatField(help_text='纵向超挖变化 Vo')),
                ('c1', models.FloatField(help_text='修正因子 c1')),
                ('c2', models.FloatField(help_text='修正因子 c2')),
                ('c3', models.FloatField(help_text='修正因子 c3')),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='用户发起操作时填写的理由（上传、修改或删除）', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='管理员审批时填写的理由', null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='记录被审批的时间', null=True)),
                ('created_at', models.DateTimeField(blank=True, editable=False, help_text='记录的创建时间')),
                ('updated_at', models.DateTimeField(blank=True, editable=False, help_text='记录的最后更新时间')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField()),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('approved_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录审批的管理员', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录创建者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录删除者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('modified_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录修改者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical tunnel contour info',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': 'history_date',
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalOverUnderExcavationCalculation',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('line_name', models.CharField(help_text='线路名称', max_length=200)),
                ('north_direction_angle', models.FloatField(help_text='北方向角')),
                ('radius', models.FloatField(help_text='半径')),
                ('length', models.FloatField(help_text='长度')),
                ('east_coordinate', models.FloatField(help_text='东坐标')),
                ('north_coordinate', models.FloatField(help_text='北坐标')),
                ('start_offset', models.FloatField(help_text='起点偏移')),
                ('height', models.FloatField(help_text='高度')),
                ('radius_section', models.FloatField(help_text='横截面半径')),
                ('angle_increment', models.FloatField(help_text='角度增量')),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='用户发起操作时填写的理由（上传、修改或删除）', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='管理员审批时填写的理由', null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='记录被审批的时间', null=True)),
                ('created_at', models.DateTimeField(blank=True, editable=False, help_text='记录的创建时间')),
                ('updated_at', models.DateTimeField(blank=True, editable=False, help_text='记录的最后更新时间')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField()),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('approved_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录审批的管理员', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录创建者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录删除者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('modified_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录修改者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical over under excavation calculation',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': 'history_date',
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalGeologicalSketchRecord',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('distance', models.FloatField(help_text='里程')),
                ('design_section', models.FloatField(help_text='设计断面')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('excavation_width', models.FloatField(help_text='开挖宽度')),
                ('excavation_height', models.FloatField(help_text='开挖高度')),
                ('excavation_area', models.FloatField(help_text='开挖面积')),
                ('excavation_method', models.CharField(help_text='开挖方式', max_length=200)),
                ('face_condition', models.CharField(help_text='掌子面状态', max_length=100)),
                ('excavation_condition', models.CharField(help_text='毛开挖情况', max_length=100)),
                ('rock_strength', models.CharField(help_text='岩石强度', max_length=50)),
                ('weathering_degree', models.CharField(help_text='风化程度', max_length=50)),
                ('crack_width', models.CharField(help_text='裂缝宽度', max_length=50)),
                ('crack_shape', models.CharField(help_text='裂缝形态', max_length=50)),
                ('water_condition', models.CharField(help_text='渗水状态', max_length=100)),
                ('rockburst_tendency', models.CharField(help_text='岩爆发育程度', max_length=50)),
                ('rock_grade', models.CharField(help_text='岩层级别', max_length=10)),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='用户发起操作时填写的理由（上传、修改或删除）', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='管理员审批时填写的理由', null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='记录被审批的时间', null=True)),
                ('created_at', models.DateTimeField(blank=True, editable=False, help_text='记录的创建时间')),
                ('updated_at', models.DateTimeField(blank=True, editable=False, help_text='记录的最后更新时间')),
                ('karst_development', models.CharField(blank=True, help_text='岩溶发育程度', max_length=50, null=True)),
                ('water_status', models.CharField(blank=True, help_text='消水状态', max_length=100, null=True)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField()),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('approved_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录审批的管理员', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录创建者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录删除者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('modified_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录修改者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical geological sketch record',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': 'history_date',
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalExcavationDiagnosis',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='用户发起操作时填写的理由（上传、修改或删除）', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='管理员审批时填写的理由', null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='记录被审批的时间', null=True)),
                ('created_at', models.DateTimeField(blank=True, editable=False, help_text='记录的创建时间')),
                ('updated_at', models.DateTimeField(blank=True, editable=False, help_text='记录的最后更新时间')),
                ('scale', models.FloatField(help_text='比例尺')),
                ('mileage', models.FloatField(help_text='里程')),
                ('design_section', models.FloatField(help_text='设计断面')),
                ('line_x', models.FloatField(help_text='线路X坐标')),
                ('line_y', models.FloatField(help_text='线路Y坐标')),
                ('measured_section', models.FloatField(help_text='实测断面面积')),
                ('reference_section', models.FloatField(help_text='参考断面面积')),
                ('line_height', models.FloatField(help_text='线路高程')),
                ('over_excavation_area', models.FloatField(help_text='超挖面积')),
                ('under_excavation_area', models.FloatField(help_text='欠挖面积')),
                ('max_over_excavation', models.FloatField(help_text='最大超挖')),
                ('max_under_excavation', models.FloatField(help_text='最大欠挖')),
                ('average_over_excavation', models.FloatField(help_text='平均超挖')),
                ('average_under_excavation', models.FloatField(help_text='平均欠挖')),
                ('diagnosis_result', models.CharField(choices=[('within_limits', '超欠挖合格'), ('exceeds_limits', '超欠挖超标')], default='within_limits', help_text='诊断结果', max_length=20)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField()),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('approved_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录审批的管理员', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录创建者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录删除者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('modified_by', models.ForeignKey(blank=True, db_constraint=False, help_text='记录修改者', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical excavation diagnosis',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': 'history_date',
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='HistoricalDataStorage',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('file_name', models.CharField(help_text='文件名称', max_length=255)),
                ('file_path', models.CharField(blank=True, help_text='文件存储路径', max_length=512, null=True)),
                ('file_data', models.BinaryField(blank=True, help_text='文件二进制数据', null=True)),
                ('file_type', models.CharField(help_text='文件类型，如PDF、Excel等', max_length=100)),
                ('file_hash', models.CharField(help_text='文件的唯一哈希值，用于防止重复上传', max_length=64)),
                ('upload_date', models.DateTimeField(blank=True, editable=False, help_text='文件上传时间')),
                ('file_description', models.TextField(blank=True, help_text='文件描述，例如用途或内容简介', null=True)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='文件当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='用户发起操作时填写的理由（上传、修改或删除）', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='管理员审批时填写的理由', null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='文件被审批的时间', null=True)),
                ('category', models.CharField(choices=[('geological', '掌子面'), ('excavation_diagnosis', '超欠挖诊断'), ('excavation_calculation', '超欠挖计算'), ('tunnel', '隧道'), ('other', '其他')], default='other', help_text='文件所属类别（如掌子面、超欠挖诊断等）', max_length=50)),
                ('related_record_id', models.CharField(blank=True, help_text='关联的记录编号（如掌子面编号或隧道编号）', max_length=50, null=True)),
                ('created_at', models.DateTimeField(blank=True, editable=False, help_text='记录的创建时间')),
                ('updated_at', models.DateTimeField(blank=True, editable=False, help_text='记录的最后更新时间')),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField()),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('approved_by', models.ForeignKey(blank=True, db_constraint=False, help_text='文件审批的管理员', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('uploaded_by', models.ForeignKey(blank=True, db_constraint=False, help_text='文件上传的用户', null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': 'historical 文件存储',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': 'history_date',
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='GeologicalSketchRecord',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('distance', models.FloatField(help_text='里程')),
                ('design_section', models.FloatField(help_text='设计断面')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('excavation_width', models.FloatField(help_text='开挖宽度')),
                ('excavation_height', models.FloatField(help_text='开挖高度')),
                ('excavation_area', models.FloatField(help_text='开挖面积')),
                ('excavation_method', models.CharField(help_text='开挖方式', max_length=200)),
                ('face_condition', models.CharField(help_text='掌子面状态', max_length=100)),
                ('excavation_condition', models.CharField(help_text='毛开挖情况', max_length=100)),
                ('rock_strength', models.CharField(help_text='岩石强度', max_length=50)),
                ('weathering_degree', models.CharField(help_text='风化程度', max_length=50)),
                ('crack_width', models.CharField(help_text='裂缝宽度', max_length=50)),
                ('crack_shape', models.CharField(help_text='裂缝形态', max_length=50)),
                ('water_condition', models.CharField(help_text='渗水状态', max_length=100)),
                ('rockburst_tendency', models.CharField(help_text='岩爆发育程度', max_length=50)),
                ('rock_grade', models.CharField(help_text='岩层级别', max_length=10)),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='用户发起操作时填写的理由（上传、修改或删除）', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='管理员审批时填写的理由', null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='记录被审批的时间', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='记录的创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='记录的最后更新时间')),
                ('karst_development', models.CharField(blank=True, help_text='岩溶发育程度', max_length=50, null=True)),
                ('water_status', models.CharField(blank=True, help_text='消水状态', max_length=100, null=True)),
                ('approved_by', models.ForeignKey(blank=True, help_text='记录审批的管理员', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_records', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, help_text='记录创建者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_records', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, help_text='记录删除者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deleted_records', to=settings.AUTH_USER_MODEL)),
                ('modified_by', models.ForeignKey(blank=True, help_text='记录修改者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='modified_records', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='ExcavationDiagnosis',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('inspection_date', models.DateTimeField(help_text='检查日期')),
                ('inspector', models.CharField(help_text='测量人员', max_length=100)),
                ('measurement_date', models.DateField(help_text='测量日期')),
                ('face_id', models.CharField(help_text='掌子面编号', max_length=50)),
                ('project_id', models.CharField(help_text='施工项目编号', max_length=50)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='记录当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='用户发起操作时填写的理由（上传、修改或删除）', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='管理员审批时填写的理由', null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='记录被审批的时间', null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='记录的创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='记录的最后更新时间')),
                ('scale', models.FloatField(help_text='比例尺')),
                ('mileage', models.FloatField(help_text='里程')),
                ('design_section', models.FloatField(help_text='设计断面')),
                ('line_x', models.FloatField(help_text='线路X坐标')),
                ('line_y', models.FloatField(help_text='线路Y坐标')),
                ('measured_section', models.FloatField(help_text='实测断面面积')),
                ('reference_section', models.FloatField(help_text='参考断面面积')),
                ('line_height', models.FloatField(help_text='线路高程')),
                ('over_excavation_area', models.FloatField(help_text='超挖面积')),
                ('under_excavation_area', models.FloatField(help_text='欠挖面积')),
                ('max_over_excavation', models.FloatField(help_text='最大超挖')),
                ('max_under_excavation', models.FloatField(help_text='最大欠挖')),
                ('average_over_excavation', models.FloatField(help_text='平均超挖')),
                ('average_under_excavation', models.FloatField(help_text='平均欠挖')),
                ('diagnosis_result', models.CharField(choices=[('within_limits', '超欠挖合格'), ('exceeds_limits', '超欠挖超标')], default='within_limits', help_text='诊断结果', max_length=20)),
                ('approved_by', models.ForeignKey(blank=True, help_text='记录审批的管理员', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_excavation_diagnoses', to=settings.AUTH_USER_MODEL)),
                ('created_by', models.ForeignKey(blank=True, help_text='记录创建者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='created_excavation_diagnoses', to=settings.AUTH_USER_MODEL)),
                ('deleted_by', models.ForeignKey(blank=True, help_text='记录删除者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='deleted_excavation_diagnoses', to=settings.AUTH_USER_MODEL)),
                ('modified_by', models.ForeignKey(blank=True, help_text='记录修改者', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='modified_excavation_diagnoses', to=settings.AUTH_USER_MODEL)),
            ],
        ),
        migrations.CreateModel(
            name='DataStorage',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('file_name', models.CharField(help_text='文件名称', max_length=255)),
                ('file_path', models.CharField(blank=True, help_text='文件存储路径', max_length=512, null=True)),
                ('file_data', models.BinaryField(blank=True, help_text='文件二进制数据', null=True)),
                ('file_type', models.CharField(help_text='文件类型，如PDF、Excel等', max_length=100)),
                ('file_hash', models.CharField(help_text='文件的唯一哈希值，用于防止重复上传', max_length=64)),
                ('upload_date', models.DateTimeField(auto_now_add=True, help_text='文件上传时间')),
                ('file_description', models.TextField(blank=True, help_text='文件描述，例如用途或内容简介', null=True)),
                ('status', models.CharField(choices=[('pending', '待审批'), ('uploaded_approved', '上传已审批'), ('modified_pending', '修改待审批'), ('modified_approved', '修改已审批'), ('deleted_pending', '删除待审批'), ('deleted', '已删除')], default='pending', help_text='文件当前状态', max_length=20)),
                ('operation_reason', models.TextField(blank=True, help_text='用户发起操作时填写的理由（上传、修改或删除）', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='管理员审批时填写的理由', null=True)),
                ('approved_at', models.DateTimeField(blank=True, help_text='文件被审批的时间', null=True)),
                ('category', models.CharField(choices=[('geological', '掌子面'), ('excavation_diagnosis', '超欠挖诊断'), ('excavation_calculation', '超欠挖计算'), ('tunnel', '隧道'), ('other', '其他')], default='other', help_text='文件所属类别（如掌子面、超欠挖诊断等）', max_length=50)),
                ('related_record_id', models.CharField(blank=True, help_text='关联的记录编号（如掌子面编号或隧道编号）', max_length=50, null=True)),
                ('created_at', models.DateTimeField(auto_now_add=True, help_text='记录的创建时间')),
                ('updated_at', models.DateTimeField(auto_now=True, help_text='记录的最后更新时间')),
                ('approved_by', models.ForeignKey(blank=True, help_text='文件审批的管理员', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_files', to=settings.AUTH_USER_MODEL)),
                ('uploaded_by', models.ForeignKey(blank=True, help_text='文件上传的用户', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='uploaded_files', to=settings.AUTH_USER_MODEL)),
            ],
            options={
                'verbose_name': '文件存储',
                'verbose_name_plural': '文件存储',
                'db_table': 'data_storage',
            },
        ),
        migrations.CreateModel(
            name='DataAuditTrail',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('trace_id', models.CharField(default=uuid.uuid4, help_text='唯一追踪ID，用于标识操作', max_length=64, unique=True)),
                ('operation_type', models.CharField(choices=[('CREATE', 'Create'), ('UPDATE', 'Update'), ('DELETE', 'Delete')], help_text='操作类型', max_length=10)),
                ('table_name', models.CharField(help_text='操作的表名称', max_length=255)),
                ('record_id', models.IntegerField(blank=True, help_text='被操作记录的主键ID', null=True)),
                ('operation_time', models.DateTimeField(auto_now_add=True, help_text='操作时间')),
                ('data_snapshot', models.TextField(help_text='操作前或删除的数据快照，JSON格式存储')),
                ('updated_data', models.TextField(blank=True, help_text='操作后的数据（针对UPDATE和CREATE操作，JSON格式）', null=True)),
                ('change_details', models.TextField(blank=True, help_text='字段级数据变更详情（针对UPDATE操作，JSON格式）', null=True)),
                ('approval_reason', models.TextField(blank=True, help_text='管理员审批时填写的理由', null=True)),
                ('operation_reason', models.TextField(blank=True, help_text='普通用户发起操作时填写的理由', null=True)),
                ('client_ip', models.GenericIPAddressField(blank=True, help_text='客户端IP地址', null=True)),
                ('user_agent', models.TextField(blank=True, help_text='用户的浏览器或客户端信息', null=True)),
                ('approved_by', models.ForeignKey(blank=True, help_text='批准操作的管理员', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='approved_operations', to=settings.AUTH_USER_MODEL)),
                ('user', models.ForeignKey(help_text='发起操作的用户', null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='operation_user', to=settings.AUTH_USER_MODEL)),
            ],
        ),
    ]
